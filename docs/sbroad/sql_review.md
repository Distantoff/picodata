# Принципы работы распределенного SQL
Распределенные SQL-запросы в Picodata работают благодаря интегрированной
динамической библиотеке SQL Broadcaster, которая работает на всех
экземплярах Tarantool в кластере. SQL-запросы выполняются на узлах,
исполняющих роль маршрутизаторов (роутеров), и получают данные с узлов
хранения (storages). Поскольку в кластере может быть много как узлов
хранения, так и роутеров, каждый распределенный запрос разбивается на
части для опроса всех узлов. Собранные данные затем консолидируются и
возвращаются пользователю. 

На схеме ниже показан общий принцип работы распределенного SQL-запроса в кластере с одним роутером.

![Distributed query](sbroad-curves.svg "general distributed query flow")

На схеме <span style="color:#ff0000ff">красным</span> показан исходный пользовательский запрос, <span style="color:#fcc501ff">желтым</span> — план запроса (IR, intermediate representation), <span style="color:#39cb00ff">зеленым</span> — собранные фрагменты ответов, <span style="color:#00c8e5ff">голубым</span> — консолидированный ответ на пользовательский запрос в виде списка кортежей, обработанного функцией MapReduce.

Описание поддерживаемых запросов и их синтаксиса приведены в разделе: [Команды SQL](../sql_queries)

---
[Исходный код страницы](https://git.picodata.io/picodata/picodata/docs/-/blob/main/docs/sbroad/sql_review.md)
