# Подключение и работа в консоли

В данном разделе описаны способы подключения Picodata, а также первые
шаги в консоли.

По умолчанию, консоль, в которой происходит
[запуск](../reference/cli.md#run_command) инстанса Picodata, служит для
вывода диагностических сообщений инстанса. Для ввода команд следует
подключиться к Picodata из другой консоли. При этом, возможно два типа
подключения:

- подключение к консоли администратора для управления текущим инстансом
- подключение к пользовательской SQL-консоли для выполнения SQL-команд в
  рамках всего кластера

## Консоль администратора {: #admin_console }

### Доступ к консоли {: #admin_console_connect}

Консоль администратора предоставляет доступ к учетной записи
[Администратора СУБД](access_control.md#admin) (`admin`). Для запуска
консоли используйте следующую команду с указанием файла unix-сокета:

```
picodata admin ./admin.sock
```

В таком виде [подключение](../reference/cli.md#connect_command) производится под
пользователем `guest` без пароля. У пользователя `guest` имеется единственная
привилегия [`SESSION`](access_control.md#privileges). Для подключения под
определенным пользователем следует указать его после ключа `-u`:

```
picodata connect localhost:3301 -u "alice"
```

### Подключение к консоли администратора {: #picodata_admin_console }

С помощью команды `picodata admin` можно подключиться через unix-сокет
к локальному экземпляру Picodata с правами администратора (пользователя
`admin`):

```
picodata admin /path/to/admin.sock
```

По умолчанию файл unix-сокета расположен в [директории с данными
инстанса](../reference/cli.md#data_dir) Picodata. Размещение этого
файла настраивается при запуске инстанса параметром
[picodata run --admin-sock](../reference/cli.md#admin_sock).

При успешном подключении отобразится приглашение:

```
$ picodata admin ./admin.sock
Connected to admin console by socket path "./admin.sock"
type '\help' for interactive help
picodata>
```

Консоль администратора интерпретирует вводимые команды на языке SQL, см.
[Справочные материалы — Команды SQL](../reference/sql_queries.md).

### Создание учетной записи пользователя  {: #user_setup}

Для того чтобы использовать пользовательскую консоль, нужно сначала
создать учетную запись пользователя в административной консоли.

Для этого можно использовать следующую команду:

```SQL
CREATE USER "alex" WITH PASSWORD 'topsecret';
```

Чтобы новый пользователь мог создавать таблицы, ему понадобится
соответствующая привилегия:

```SQL
GRANT CREATE TABLE TO "alex";
```

## Пользовательская консоль {: #user_console}

Теперь можно подключиться к любому локальному или удаленному инстансу с
помощью команды `picodata connect`, используя только что созданную
пользовательскую учетную запись. Пример для `localhost`:

```
picodata connect alex@localhost:3301
```
В соответствие с доступными ему привилегиями, пользователь может
работать в консоли с таблицами.

См. также:

- [Работа с данными SQL](sql_examples.md)

## Многострочный ввод {: #multiline_input }

В консоли Picodata поддерживается многострочный ввод команд.
Для перехода к новой строке следует нажать `Alt+Enter`. Для завершения
ввода многострочной команды следует нажать `Enter`.

См. также:

- [Аргументы командной строки](../reference/cli.md)
